{
  "rules": {
    
    "admins": {
      // You can only access your own admin information
      // and can only change your admin info if admin==true
      "$uid": {
        ".read": "$uid === auth.uid",
        ".write": "$uid === auth.uid && data.child('admin').val() == true"
      }
    },
      
    "announcements": {
      // Anyone can read annoucements
      ".read": true,
      // Only admins can create announcements
      ".write": "root.child('admins').child(auth.uid).child('admin').val() == true"
    }, 
      
    "attendance": {
      
      // enabled is a boolean for whether the attendance is enabled
      // Anyone can read from it. Only admins can change it
      // Must be a boolean
      "enabled": {
        ".read": true,
        ".write": "root.child('admins').child(auth.uid).child('admin').val() == true",
        ".validate": "newData.isBoolean()"
      },
      
      // current is the root of the current attendance.
      // Anyone can read from it. Only admins can change it
      "current": {
        ".read": true,
        ".write": "root.child('admins').child(auth.uid).child('admin').val() == true",
      },
      
      // The meeting attendance. The key is the uid and the value is the person's name
      "$meeting": {
        
        "$uid": {
          ".read": "$uid == auth.uid",
          ".write": "root.child('attendance').child('enabled').val() == true && root.child('attendance').child('current').val() == $meeting && $uid == auth.uid"
        },
    
      },
        
      ".read": true
        
    },
    
    // TODO: Improve security rules for list of members on slack
    "slack": {  
      ".read": "auth != null",
      ".write": false
    },
    
    ".read": false,
    ".write": false
  }
}
